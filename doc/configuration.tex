% COnFIGURATIOn.TEX
%
% The documentation in this file is part of PyXPlot
% <http://www.pyxplot.org.uk>
%
% Copyright (C) 2006-9 Dominic Ford <coders@pyxplot.org.uk>
%               2009   Ross Church
%
% $Id$
%
% PyXPlot is free software; you can redistribute it and/or modify it under the
% terms of the GNU General Public License as published by the Free Software
% Foundation; either version 2 of the License, or (at your option) any later
% version.
%
% You should have received a copy of the GNU General Public License along with
% PyXPlot; if not, write to the Free Software Foundation, Inc., 51 Franklin
% Street, Fifth Floor, Boston, MA  02110-1301, USA

% ----------------------------------------------------------------------------

% LaTeX source for the PyXPlot Users' Guide

\chapter{Configuring PyXPlot}
\label{ch:configuration}

\section{Overview}

As is the case in \gnuplot, PyXPlot can be configured using the \indcmdt{set}
-- for example:

\begin{verbatim}set output 'foo.eps'\end{verbatim}

\noindent would cause plotted output to be written the file {\tt foo.eps}.
Typing {\tt set} on its own returns a list of all recognised configuration
parameters of the \indcmdt{set}. The \indcmdt{unset} may be used to return
settings to their default values; it recognises a similar set of parameter
names, and once again, typing {\tt unset} on its own gives a list of them. The
\indcmdt{show} can be used to display the values of settings.

\section{Configuration Files}

PyXPlot can also be configured by means of a configuration file, with filename
{\tt .pyxplotrc}, which is scanned once upon startup. This file may be
placed either in the user's current working directory, or in his home
directory. In the event of both files existing, settings in the former override
those in the latter; in the event of neither file existing, PyXPlot uses its
own default settings.

The configuration file should take the form of a series of sections, each
headed by a section heading enclosed in square brackets, and followed by
variables declared using the format:

\begin{verbatim} 
OUTPUT=foo.eps
\end{verbatim}

The following sections are used, although they do not all need to be present in
any given file:

\begin{itemize}
\item {\tt settings} -- contains parameters similar to those which can be set
with the {\tt set} command. A complete list is given in
Section~\ref{sec:configfile_settings} below.
\item {\tt terminal} -- contains parameters for altering the behaviour and
appearance of PyXPlot's interactive terminal. A complete list is given in
Section~\ref{sec:configfile_terminal}.
\item {\tt variables} -- contains variable definitions. Any variables defined
in this section will be predefined in the PyXPlot mathematical environment upon
startup.
\item {\tt functions} -- contains function definitions.
\item {\tt colours} -- contains a variable `{\tt palette}', which should be set
to a comma-separated list of the sequence of colours in the palette used to
plot datasets. The first will be called colour 1 in PyXPlot, the second colour
2, etc. A list of recognised colour names is given in
Section~\ref{sec:colour_names}.
\item {\tt latex} -- contains a variable `{\tt preamble}', which is prefixed to
the beginning of all \LaTeX\ text items, before the {\tt \textbackslash
begin\{document\}} statement. It can be used to define custom \LaTeX\ macros,
or to include packages using the {\tt \textbackslash includepackage\{\}}
command.  The preamble can be changed using the \indcmdt{set preamble}.
\end{itemize}

\section{An Example Configuration File}
\index{configuration files}
\noindent As an example, the following is a configuration file
which would represent PyXPlot's default configuration:

\begin{verbatim}
[settings]
Aspect = 1.0
AutoAspect = On
AxesColour = Black
Backup = Off
Bar = 1.0
BinOrigin = 0
BinWidth = 1
BoxFrom = 0
BoxWidth = 0
CalendarIn = British
CalendarOut = British
Colour = On
DataStyle = Points
Display = On
DPI = 300
FontSize = 0
FuncStyle = Lines
Grid = Off
GridAxisX = 1
GridAxisY = 1
GridAxisZ = 1
GridMajColour = Grey60
GridMinColour = Grey90
Key = On
KeyColumns=1
KeyPos = Top Right
Key_XOff = 0.0
Key_YOff = 0.0
Landscape = Off
LineWidth = 1.0
MultiPlot = Off
NumComplex = Off
NumDisplay = Natural
NumErr = On
NumSF = 8
OriginX = 0.0
OriginY = 0.0
Output =
PaperHeight = 297
PaperName = a4
PaperWidth = 210
PointLineWidth = 1.0
PointSize = 1.0
Projection = Flat
Samples = 250
TermAntiAlias = On
TermEnlarge = Off
TermInvert = Off
TermTransparent = Off
TermType = X11_SingleWindow
TextColour = Black
TextHAlign = Left
TextVAlign = Bottom
TRange_Log = Off
TRange_Max = 1.0
TRange_Min = 0.0
UnitAbbrev = On
UnitPrefix = On
UnitScheme = SI
Title =
Title_XOff = 0.0
Title_YOff = 0.0
Width = 8.0

[terminal]
Colour = Off
Colour_Err = Red
Colour_Rep = Green
Colour_Wrn = Brown
Splash = On

[styling]
Arrow_HeadAngle = 45
Arrow_HeadSize = 1.0
Arrow_HeadBackIndent = 0.2
Baseline_LineWidth = 1.0

[variables]
pi = 3.14159265358979

[colours]
palette = Black, Red, Blue, Magenta, Cyan, Brown, Salmon, Gray,
Green, NavyBlue, Periwinkle, PineGreen, SeaGreen, GreenYellow,
Orange, CarnationPink, Plum

[latex]
Preamble =
\end{verbatim}

\section{Configuration Options: {\tt settings} section}
\label{sec:configfile_settings}

The following table provides a brief description of the function of each of the
parameters in the {\tt settings} section of the above configuration file,
with a list of possible values for each:

\begin{longtable}{p{3.4cm}p{9cm}}
{\tt Aspect} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set size ratio}

               Sets the aspect ratio of plots.
               \\
{\tt AutoAspect} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} {\tt set size ratio}

               Sets whether plots have the automatic aspect ratio, which is the golden ratio. If {\tt On}, then the above setting is ignored.
               \\
{\tt AxesColour} & {\bf Possible values:} Any recognised colour.

               {\bf Analogous set command:} \indcmdts{set axescolour}

               Sets the colour of axis lines and ticks.
               \\
{\tt Backup} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set backup}

               When this switch is set to `{\tt On}', and plot output is being directed to file, attempts to write output over existing files cause a copy of the existing file to be preserved, with a tilde after its old filename (see Section~\ref{sec:file_backup}).
               \\
{\tt Bar}     & {\bf Possible values:}  Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set bar}

               Sets the horizontal length of the lines drawn at the end of errorbars, in units of their default length.
               \\
{\tt BinOrigin} & {\bf Possible values:} Any floating-point number

               {\bf Analogous set command:} \indcmdts{set binorigin}

               Sets the point along the $x$ axis from which the bins used by the \indcmdt{histogram} originate.
               \\
{\tt BinWidth} & {\bf Possible values:} Any floating-point number

               {\bf Analogous set command:} \indcmdts{set binwidth}

               Sets the widths of the bins used by the \indcmdt{histogram}.
               \\
{\tt BoxFrom} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set boxfrom}

               Sets the horizontal point from which bars on bar charts appear to emanate.
               \\
{\tt BoxWidth} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set boxwidth}

               Sets the default width of boxes on barcharts. If negative, then the boxes have automatically selected widths, so that the interfaces between bars occur at the horizontal midpoints between the specified datapoints.
               \\
{\tt Colour} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set terminal}

               Sets whether output should be colour ({\tt On}) or monochrome ({\tt Off}).
               \\
{\tt DataStyle} & {\bf Possible values:} Any plot style. 

               {\bf Analogous set command:} \indcmdts{set data style}
                   
               Sets the plot style used by default when plotting \datafile s.
               \\
{\tt Display} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set display}

               When set to `{\tt On}', no output is produced until the \indcmdt{set display} is issued. This is useful for speeding up scripts which produce large multiplots; see Section~\ref{sec:set_display} for more details.
               \\
{\tt DPI} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set dpi}

               Sets the sampling quality used, in dots per inch, when output is sent to a bitmapped terminal (the jpeg/gif/png terminals).
               \\
{\tt FontSize} & {\bf Possible values:} Integers in the range $-4 \to 5$.

               {\bf Analogous set command:} \indcmdts{set fontsize}

               Sets the fontsize of text, varying between \LaTeX's {\tt tiny} ($-4$) and {\tt Huge} (5).
               \\
{\tt FuncStyle} & {\bf Possible values:} Any plot style.

               {\bf Analogous set command:} \indcmdts{set function style}

               Sets the plot style used by default when plotting functions.
               \\
{\tt Grid} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set grid}

               Sets whether a grid should be displayed on plots.
               \\
{\tt GridAxisX} & {\bf Possible values:} Any integer.

               {\bf Analogous set command:} None

               Sets the default $x$-axis to which gridlines should attach, if the {\tt set grid} command is called without specifying which axes to use.
               \\
{\tt GridAxisY} & {\bf Possible values:} Any integer.

               {\bf Analogous set command:} None

               Sets the default $y$-axis to which gridlines should attach, if the {\tt set grid} command is called without specifying which axes to use.
               \\
{\tt GridAxisZ} & {\bf Possible values:} Any integer.

               {\bf Analogous set command:} None

               Sets the default $z$-axis to which gridlines should attach, if the {\tt set grid} command is called without specifying which axes to use.
               \\
{\tt GridMajColour} & {\bf Possible values:} Any recognised colour.

               {\bf Analogous set command:} \indcmdts{set gridmajcolour}

               Sets the colour of major grid lines.
               \\
{\tt GridMinColour} & {\bf Possible values:} Any recognised colour.

               {\bf Analogous set command:} \indcmdts{set gridmincolour}

               Sets the colour of minor grid lines.
               \\
{\tt Key} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set key}

               Sets whether a legend is displayed on plots.
               \\
{\tt KeyColumns} & {\bf Possible values:} Any integer $>0$.

               {\bf Analogous set command:} \indcmdts{set keycolumns}

               Sets the number of columns into which the legends of plots should be divided.
               \\
{\tt KeyPos} & {\bf Possible values:} `Top Right', `Top XCentre', `Top Left', `YCentre Right', `YCentre XCentre', `YCentre Left', `Bottom Right', `Bottom XCentre', `Bottom Left', `Above', `Below', `Outside'.

               {\bf Analogous set command:} \indcmdts{set key}

               Sets where the legend should appear on plots.
               \\
{\tt Key\_XOff} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set key}

               Sets the horizontal offset, in approximate graph-widths, that should be applied to the legend, relative to its default position, as set by {\tt KEYPOS}.
               \\
{\tt Key\_YOff} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set key}

               Sets the vertical offset, in approximate graph-heights, that should be applied to the legend, relative to its default position, as set by {\tt KEYPOS}.
               \\
{\tt Landscape} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set terminal}

               Sets whether output is in portrait orientation ({\tt Off}), or landscape orientation ({\tt On}).
               \\
{\tt LineWidth} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set linewidth}

               Sets the width of lines on plots, as a  multiple of the default.
               \\
{\tt MultiPlot} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set multiplot}

               Sets whether multiplot mode is on or off.
               \\
{\tt OriginX} & {\bf Possible values:} Any floating point number.

               {\bf Analogous set command:} \indcmdts{set origin}

               Sets the horizontal position, in centimetres, of the default origin of plots on the page. Most useful when multiplotting many plots.
               \\
{\tt OriginY} & {\bf Possible values:} Any floating point number.

               {\bf Analogous set command:} \indcmdts{set origin}

               Sets the vertical position, in centimetres, of the default origin of plots on the page. Most useful when multiplotting many plots.
               \\
{\tt Output} & {\bf Possible values:} Any string.

               {\bf Analogous set command:} \indcmdts{set output}

               Sets the output filename for plots. If blank, the default filename of pyxplot.foo is used, where `foo' is an extension appropriate for the file format.
               \\
{\tt PaperHeight} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set papersize}

               Sets the height of the papersize for postscript output in millimetres.
               \\
{\tt PaperName} & {\bf Possible values:} A string matching any of the papersizes listed in Chapter~\ref{ch:paper_sizes}.

               {\bf Analogous set command:} \indcmdts{set papersize}

               Sets the papersize for postscript output to one of the pre-defined papersizes listed in Chapter~\ref{ch:paper_sizes}.
               \\
{\tt PaperWidth} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set papersize}

               Sets the width of the papersize for postscript output in millimetres.
               \\
{\tt PointLineWidth} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set pointlinewidth}

               Sets the linewidth used to stroke points onto plots, as a multiple of the default.
               \\
{\tt PointSize} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set pointsize}

               Sets the sizes of points on plots, as a multiple of their normal sizes.
               \\
{\tt Samples} & {\bf Possible values:} Any integer.

               {\bf Analogous set command:} \indcmdts{set samples}

               Sets the number of samples (datapoints) to be evaluated along the $x$-axis when plotting a function.
               \\
{\tt TermAntiAlias} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set terminal}

               Sets whether jpeg/gif/png output is antialiased, i.e.\ whether colour boundaries are smoothed to disguise the effects of pixelisation.
               \\
{\tt TermEnlarge} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set terminal}

               When set to `{\tt On}' output is enlarged or shrunk to fit the current paper size.
               \\

{\tt TermInvert} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set terminal}

               Sets whether jpeg/gif/png output has normal colours ({\tt Off}), or inverted colours ({\tt On}).
               \\
{\tt TermTransparent} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous set command:} \indcmdts{set terminal}

               Sets whether jpeg/gif/png output has transparent background ({\tt On}), or solid background ({\tt Off}).
               \\
{\tt TermType} & {\bf Possible values:} {\tt X11\_singlewindow},

               {\tt X11\_multiwindow}, {\tt X11\_persist}, {\tt PS}, {\tt EPS}, {\tt PDF}, {\tt PNG}, {\tt JPG}, {\tt GIF}

               {\bf Analogous set command:} \indcmdts{set terminal}

               Sets whether output is sent to the screen or to disk, and, in the latter case, the format of the output. The {\tt ps} option should be used for both encapsulated and normal postscript output; these are distinguished using the {\tt ENHANCED} option, above.
               \\
{\tt TextColour} & {\bf Possible values:} Any recognised colour.

               {\bf Analogous set command:} \indcmdts{set textcolour}

               Sets the colour of all text output.
               \\
{\tt TextHAlign} & {\bf Possible values:} {\tt Left}, {\tt Centre}, {\tt Right}

               {\bf Analogous set command:} \indcmdts{set texthalign}

               Sets the horizontal alignment of text labels to their given reference positions.
               \\
{\tt TextVAlign} & {\bf Possible values:} {\tt Top}, {\tt Centre}, {\tt Bottom}

               {\bf Analogous set command:} \indcmdts{set textvalign}

               Sets the vertical alignment of text labels to their given reference positions.
               \\
{\tt Title} & {\bf Possible values:} Any string.

               {\bf Analogous set command:} \indcmdts{set title}

               Sets the title to appear at the top of the plot.
               \\
{\tt Title\_XOff} & {\bf Possible values:} Any floating point number.

               {\bf Analogous set command:} \indcmdts{set title}

               Sets the horizontal offset of the title of the plot from its default central location.
               \\
{\tt Title\_YOff} & {\bf Possible values:} Any floating point number.

               {\bf Analogous set command:} \indcmdts{set title}

               Sets the vertical offset of the title of the plot from its default location at the top of the plot.
               \\
{\tt Width} & {\bf Possible values:} Any floating-point number.

               {\bf Analogous set command:} \indcmdts{set width} / \indcmdts{set size}

               Sets the width of plots in centimetres.
               \\
\end{longtable}

\section{Configuration Options: {\tt terminal} section}
\label{sec:configfile_terminal}

The following table provides a brief description of the function of each of the
parameters in the {\tt terminal} section of the above configuration file,
with a list of possible values for each:

\begin{longtable}{p{3.4cm}p{9cm}}
{\tt Colour} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous command-line switches:} {\tt -c}, {\tt --colour}, {\tt -m}, {\tt --monochrome}

               Sets whether colour highlighting should be used in the interactive terminal. If turned on, output is displayed in green, warning messages in amber, and error messages in red; these colours are configurable, as described below. Note that not all UNIX terminals support the use of colour.
               \\
{\tt Colour\_Err} & {\bf Possible values:} Any recognised terminal colour (see below).

               {\bf Analogous command-line switches:} None.

               Sets the colour in which error messages are displayed when colour highlighting is used. Note that the list of recognised colour names differs from that used in PyXPlot; a list is given at the end of this section.
               \\
{\tt Colour\_Rep} & {\bf Possible values:} Any recognised terminal colour (see below).

               {\bf Analogous command-line switches:} None.

               As above, but sets the colour in which PyXPlot displays its non-error-related output.
               \\
{\tt Colour\_Wrn} & {\bf Possible values:} Any recognised terminal colour (see below).

               {\bf Analogous command-line switches:} None.

               As above, but sets the colour in which PyXPlot displays its warning messages.
               \\
{\tt Splash} & {\bf Possible values:} {\tt On} / {\tt Off}

               {\bf Analogous command-line switches:} {\tt -q}, {\tt --quiet}, {\tt -V}, {\tt --verbose}

               Sets whether the standard welcome message is displayed upon startup.
               \\
\end{longtable}

The colours recognised by the {\tt COLOUR\_XXX} configuration options above
are: {\tt Red}, {\tt Green}, {\tt Brown}, {\tt Blue}, {\tt Purple}, {\tt
Magenta}, {\tt Cyan}, {\tt White}, {\tt Normal}. The final option produces the
default foreground colour of your terminal.

\section{Recognised Colour Names}
\label{sec:colour_names}

The following is a complete list of the colour names which PyXPlot recognises
in the {\tt set textcolour}, {\tt set axescolour} commands, and in the {\tt
colours} section of its configuration file. It should be noted that they are
case-insensitive.

\vspace{5mm}\noindent
\index{configuration file!colours}\index{colours!configuration file}
{\tt
GreenYellow, Yellow, Goldenrod, Dandelion, Apricot, Peach, Melon, YellowOrange, Orange, BurntOrange, Bittersweet, RedOrange, Mahogany, Maroon, BrickRed, Red, OrangeRed, RubineRed, WildStrawberry, Salmon, CarnationPink, Magenta, VioletRed, Rhodamine, Mulberry, RedViolet, Fuchsia, Lavender, Thistle, Orchid, DarkOrchid, Purple, Plum, Violet, RoyalPurple, BlueViolet, Periwinkle, CadetBlue, CornflowerBlue, MidnightBlue, NavyBlue, RoyalBlue, Blue, Cerulean, Cyan, ProcessBlue, SkyBlue, Turquoise, TealBlue, Aquamarine, BlueGreen, Emerald, JungleGreen, SeaGreen, Green, ForestGreen, PineGreen, LimeGreen, YellowGreen, SpringGreen, OliveGreen, RawSienna, Sepia, Brown, Tan, Gray, Grey, Black, White, white, black.
}

\vspace{5mm}
The following further colours provide a scale of shades of grey from dark to light, also case-insensitive.

\vspace{5mm}\noindent
\index{colours!shades of grey}
{\tt
grey05, grey10, grey15, grey20, grey25, grey30, grey35, grey40, grey45, grey50, grey55, grey60, grey65, grey70, grey75, grey80, grey85, grey90, grey95.
}

\vspace{5mm}\noindent
The US spelling of grey, ``gray'', is also accepted.

For a colour chart, the reader is referred to Appendix~\ref{ch:colour_charts},
or to Appendix~B of the {\it PyX Reference
Manual}.\footnote{\url{http://pyx.sourceforge.net/manual/colorname.html}}

